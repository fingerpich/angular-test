(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{nX7e:function(n,l,t){"use strict";t.r(l);var u=t("CcnG"),o=function(){return function(){}}(),e=t("pMnS"),i=t("Ip0R"),c="https://jsonplaceholder.typicode.com/",s=t("qXBG"),r=t("26FU"),p=t("t/Na"),b=function(){function n(n,l){this.http=n,this.authService=l,this.albumsSubject=new r.a([]),this.loadAlbums()}return n.prototype.loadAlbums=function(){var n=this;this.authService.getLoggedInUser().subscribe(function(l){l&&n.http.get(c+"albums?userId="+l.id).subscribe(function(l){l&&l.length&&n.albumsSubject.next(l)})})},n.prototype.getAlbums=function(){return this.albumsSubject},n.prototype.getPhotos=function(n){return this.http.get(c+"photos?albumId="+n.id)},n.ngInjectableDef=u.S({factory:function(){return new n(u.W(p.c),u.W(s.a))},token:n,providedIn:"root"}),n}(),a=function(){function n(n){this.albumsService=n}return n.prototype.ngOnInit=function(){this.loadAlbums()},n.prototype.loadAlbums=function(){var n=this;this.albumsService.getAlbums().subscribe(function(l){n.albums=l})},n.prototype.loadPhotos=function(n){var l=this;this.albumsService.getPhotos(n).subscribe(function(n){l.photos=n})},n.prototype.previewImage=function(n){this.previewPhoto=n},n}(),d=u.nb({encapsulation:0,styles:[[""]],data:{}});function f(n){return u.Cb(0,[(n()(),u.pb(0,0,null,null,1,"div",[["class","preview"]],null,null,null,null,null)),(n()(),u.pb(1,0,null,null,0,"img",[],[[8,"src",4],[8,"alt",0]],null,null,null,null))],null,function(n,l){var t=l.component;n(l,1,0,t.previewPhoto.url,t.previewPhoto.title)})}function g(n){return u.Cb(0,[(n()(),u.pb(0,0,null,null,1,"li",[],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.loadPhotos(n.context.$implicit)&&u),u},null,null)),(n()(),u.Bb(1,null,[" "," "]))],null,function(n,l){n(l,1,0,l.context.$implicit.title)})}function h(n){return u.Cb(0,[(n()(),u.pb(0,0,null,null,1,"li",[],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.previewImage(n.context.$implicit)&&u),u},null,null)),(n()(),u.pb(1,0,null,null,0,"img",[],[[8,"src",4],[8,"alt",0]],null,null,null,null))],null,function(n,l){n(l,1,0,l.context.$implicit.thumbnailUrl,l.context.$implicit.title)})}function m(n){return u.Cb(0,[(n()(),u.gb(16777216,null,null,1,null,f)),u.ob(1,16384,null,0,i.i,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.pb(2,0,null,null,6,"div",[],null,null,null,null,null)),(n()(),u.pb(3,0,null,null,2,"ul",[["class","albumList"]],null,null,null,null,null)),(n()(),u.gb(16777216,null,null,1,null,g)),u.ob(5,278528,null,0,i.h,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"]},null),(n()(),u.pb(6,0,null,null,2,"ul",[["class","photoList"]],null,null,null,null,null)),(n()(),u.gb(16777216,null,null,1,null,h)),u.ob(8,278528,null,0,i.h,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var t=l.component;n(l,1,0,!!t.previewPhoto),n(l,5,0,t.albums),n(l,8,0,t.photos)},null)}function v(n){return u.Cb(0,[(n()(),u.pb(0,0,null,null,1,"app-albums",[],null,null,null,m,d)),u.ob(1,114688,null,0,a,[b],null,null)],function(n,l){n(l,1,0)},null)}var y=u.lb("app-albums",a,v,{},{},[]),x=t("gIcY"),C=function(){function n(n,l){this.http=n,this.authService=l,this.postSubject=new r.a([]),this.loadPosts()}return n.prototype.loadPosts=function(){var n=this;this.authService.getLoggedInUser().subscribe(function(l){l&&n.http.get(c+"posts?userId="+l.id).subscribe(function(l){l&&l.length&&n.postSubject.next(l)})})},n.prototype.getPosts=function(){return this.postSubject},n.prototype.getComments=function(n){return this.http.get(c+"comments?postId="+n.id)},n.ngInjectableDef=u.S({factory:function(){return new n(u.W(p.c),u.W(s.a))},token:n,providedIn:"root"}),n}(),w=function(){function n(n){this.postService=n}return n.prototype.ngOnInit=function(){var n=this;this.postService.getPosts().subscribe(function(l){n.posts=l})},n.prototype.getComments=function(n){this.postService.getComments(n).subscribe(function(l){n.comments=l,n.expanded=!0,n.commentsLoaded=!0})},n.prototype.togglePost=function(n){n.commentsLoaded?n.expanded=!n.expanded:this.getComments(n)},n.prototype.filterPosts=function(n){var l=this,t=new RegExp(n);this.postService.getPosts().subscribe(function(n){l.posts=n.filter(function(n){return t.test(n.title)||t.test(n.body)})})},n.prototype.trackByFn=function(n){return n.id},n}(),k=u.nb({encapsulation:0,styles:[[""]],data:{}});function S(n){return u.Cb(0,[(n()(),u.pb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),u.Bb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.comments.length)})}function I(n){return u.Cb(0,[(n()(),u.pb(0,0,null,null,6,"li",[],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.togglePost(n.context.$implicit)&&u),u},null,null)),(n()(),u.pb(1,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),u.Bb(2,null,["",""])),(n()(),u.gb(16777216,null,null,1,null,S)),u.ob(4,16384,null,0,i.i,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.pb(5,0,null,null,1,"p",[],[[8,"className",0]],null,null,null,null)),(n()(),u.Bb(6,null,["",""]))],function(n,l){n(l,4,0,l.context.$implicit.comments)},function(n,l){n(l,2,0,l.context.$implicit.title),n(l,5,0,l.context.$implicit.expanded?"expand":"collapse"),n(l,6,0,l.context.$implicit.body)})}function P(n){return u.Cb(0,[(n()(),u.pb(0,0,null,null,5,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,t){var o=!0;return"submit"===l&&(o=!1!==u.xb(n,2).onSubmit(t)&&o),"reset"===l&&(o=!1!==u.xb(n,2).onReset()&&o),o},null,null)),u.ob(1,16384,null,0,x.o,[],null,null),u.ob(2,4210688,null,0,x.k,[[8,null],[8,null]],null,null),u.yb(2048,null,x.c,null,[x.k]),u.ob(4,16384,null,0,x.j,[[4,x.c]],null,null),(n()(),u.pb(5,0,null,null,0,"input",[],null,[[null,"input"]],function(n,l,t){var u=!0;return"input"===l&&(u=!1!==n.component.filterPosts(t.target.value)&&u),u},null,null)),(n()(),u.pb(6,0,null,null,3,"div",[["class","Posts"]],null,null,null,null,null)),(n()(),u.pb(7,0,null,null,2,"ul",[],null,null,null,null,null)),(n()(),u.gb(16777216,null,null,1,null,I)),u.ob(9,278528,null,0,i.h,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(n,l){var t=l.component;n(l,9,0,t.posts,t.trackByFn)},function(n,l){n(l,0,0,u.xb(l,4).ngClassUntouched,u.xb(l,4).ngClassTouched,u.xb(l,4).ngClassPristine,u.xb(l,4).ngClassDirty,u.xb(l,4).ngClassValid,u.xb(l,4).ngClassInvalid,u.xb(l,4).ngClassPending)})}function F(n){return u.Cb(0,[(n()(),u.pb(0,0,null,null,1,"app-posts",[],null,null,null,P,k)),u.ob(1,114688,null,0,w,[C],null,null)],function(n,l){n(l,1,0)},null)}var j=u.lb("app-posts",w,F,{},{},[]),O=function(){function n(n,l){this.http=n,this.authService=l,this.todosSubject=new r.a([]),this.loadTodos()}return n.prototype.loadTodos=function(){var n=this;this.authService.getLoggedInUser().subscribe(function(l){l&&n.http.get(c+"todos?userId="+l.id).subscribe(function(l){l&&l.length&&n.todosSubject.next(l)})})},n.prototype.getTodos=function(){return this.todosSubject},n.ngInjectableDef=u.S({factory:function(){return new n(u.W(p.c),u.W(s.a))},token:n,providedIn:"root"}),n}(),T=function(){function n(n){this.todosService=n}return n.prototype.ngOnInit=function(){this.loadTodos()},n.prototype.loadTodos=function(){var n=this;this.todosService.getTodos().subscribe(function(l){n.todos=l})},n.prototype.filterCompleted=function(n){var l=this;this.todosService.getTodos().subscribe(function(t){l.todos=t.filter(function(l){return!n||l.completed})})},n.prototype.trackByFn=function(n){return n.id},n}(),B=u.nb({encapsulation:0,styles:[[""]],data:{}});function L(n){return u.Cb(0,[(n()(),u.pb(0,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),u.pb(1,0,null,null,2,"label",[],null,null,null,null,null)),(n()(),u.pb(2,0,null,null,0,"input",[["disabled",""],["type","checkbox"]],[[8,"checked",0]],null,null,null,null)),(n()(),u.Bb(3,null,["",""]))],null,function(n,l){n(l,2,0,l.context.$implicit.completed),n(l,3,0,l.context.$implicit.title)})}function $(n){return u.Cb(0,[(n()(),u.pb(0,0,null,null,5,"input",[["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,l,t){var o=!0,e=n.component;return"change"===l&&(o=!1!==u.xb(n,1).onChange(t.target.checked)&&o),"blur"===l&&(o=!1!==u.xb(n,1).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(e.check=t)&&o),"change"===l&&(o=!1!==e.filterCompleted(e.check)&&o),o},null,null)),u.ob(1,16384,null,0,x.b,[u.D,u.k],null,null),u.yb(1024,null,x.g,function(n){return[n]},[x.b]),u.ob(3,671744,null,0,x.l,[[8,null],[8,null],[8,null],[6,x.g]],{model:[0,"model"]},{update:"ngModelChange"}),u.yb(2048,null,x.h,null,[x.l]),u.ob(5,16384,null,0,x.i,[[4,x.h]],null,null),(n()(),u.pb(6,0,null,null,3,"div",[["class","todosList"]],null,null,null,null,null)),(n()(),u.pb(7,0,null,null,2,"ul",[],null,null,null,null,null)),(n()(),u.gb(16777216,null,null,1,null,L)),u.ob(9,278528,null,0,i.h,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(n,l){var t=l.component;n(l,3,0,t.check),n(l,9,0,t.todos,t.trackByFn)},function(n,l){n(l,0,0,u.xb(l,5).ngClassUntouched,u.xb(l,5).ngClassTouched,u.xb(l,5).ngClassPristine,u.xb(l,5).ngClassDirty,u.xb(l,5).ngClassValid,u.xb(l,5).ngClassInvalid,u.xb(l,5).ngClassPending)})}function U(n){return u.Cb(0,[(n()(),u.pb(0,0,null,null,1,"app-todos",[],null,null,null,$,B)),u.ob(1,114688,null,0,T,[O],null,null)],function(n,l){n(l,1,0)},null)}var A=u.lb("app-todos",T,U,{},{},[]),D=t("ZYCi"),W=function(){return function(){}}();t.d(l,"UserModuleNgFactory",function(){return M});var M=u.mb(o,[],function(n){return u.vb([u.wb(512,u.j,u.bb,[[8,[e.a,y,j,A]],[3,u.j],u.x]),u.wb(4608,x.p,x.p,[]),u.wb(4608,i.k,i.j,[u.u,[2,i.q]]),u.wb(4608,C,C,[p.c,s.a]),u.wb(4608,O,O,[p.c,s.a]),u.wb(4608,b,b,[p.c,s.a]),u.wb(1073742336,x.n,x.n,[]),u.wb(1073742336,x.e,x.e,[]),u.wb(1073742336,i.b,i.b,[]),u.wb(1073742336,D.n,D.n,[[2,D.t],[2,D.k]]),u.wb(1073742336,W,W,[]),u.wb(1073742336,o,o,[]),u.wb(1024,D.i,function(){return[[{path:"",redirectTo:"posts"},{path:"albums",component:a},{path:"posts",component:w},{path:"todos",component:T}]]},[])])})}}]);